<!DOCTYPE html>
<!--
  Claude Chat Width Customizer - Popup Interface
  ===============================================
  
  This popup provides the user interface for adjusting chat width preferences.
  Accessible via the browser toolbar icon when visiting claude.ai.
  
  Features:
  - Slider control for width selection (40-100%)
  - Real-time preview of changes
  - Visual percentage display
  - Quick preset buttons for common widths
  - Reset to default option
  
  Design Philosophy:
  - Clean, minimal aesthetic matching Claude's brand
  - Soft neutral colors with subtle accents
  - Smooth micro-interactions for polish
  - Accessible controls with proper ARIA labels
  
  @author DoubleGate
  @version 1.4.0
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Chat Width</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="popup-container">
        <!-- Header Section -->
        <header class="popup-header">
            <div class="logo-wrapper">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h1 class="popup-title">Chat Width</h1>
            </div>
            <span class="version-badge">v1.4</span>
        </header>

        <!-- Status Indicator -->
        <div class="status-bar" id="statusBar">
            <span class="status-dot" id="statusDot"></span>
            <span class="status-text" id="statusText">Checking...</span>
        </div>

        <!-- Main Controls -->
        <main class="popup-main">
            <!-- Width Display -->
            <div class="width-display">
                <span class="width-value" id="widthValue">60</span>
                <span class="width-unit">%</span>
            </div>

            <!-- Slider Control -->
            <div class="slider-container">
                <label for="widthSlider" class="sr-only">Chat width percentage</label>
                <input 
                    type="range" 
                    id="widthSlider" 
                    class="width-slider"
                    min="40" 
                    max="100" 
                    value="60" 
                    step="5"
                    aria-label="Chat width percentage"
                    aria-valuemin="40"
                    aria-valuemax="100"
                    aria-valuenow="60"
                >
                <div class="slider-labels">
                    <span>40%</span>
                    <span>70%</span>
                    <span>100%</span>
                </div>
            </div>

            <!-- Preset Buttons -->
            <div class="presets-section">
                <span class="presets-label">Quick Presets</span>
                <div class="presets-grid">
                    <button class="preset-btn" data-width="50" title="Narrow width">
                        <span class="preset-icon narrow"></span>
                        <span>Narrow</span>
                    </button>
                    <button class="preset-btn" data-width="70" title="Medium width">
                        <span class="preset-icon medium"></span>
                        <span>Medium</span>
                    </button>
                    <button class="preset-btn" data-width="85" title="Wide width">
                        <span class="preset-icon wide"></span>
                        <span>Wide</span>
                    </button>
                    <button class="preset-btn" data-width="100" title="Full width">
                        <span class="preset-icon full"></span>
                        <span>Full</span>
                    </button>
                </div>
            </div>

            <!-- Visual Preview -->
            <div class="preview-section">
                <span class="preview-label">Preview</span>
                <div class="preview-container">
                    <div class="preview-bar" id="previewBar"></div>
                </div>
            </div>
        </main>

        <!-- Footer Actions -->
        <footer class="popup-footer">
            <button class="btn btn-secondary" id="resetBtn" title="Reset to default (60%)">
                <svg class="btn-icon" viewBox="0 0 16 16" fill="none">
                    <path d="M2 8C2 4.68629 4.68629 2 8 2C10.0503 2 11.8764 2.98939 13 4.51472V2.5H14V6.5H10V5.5H12.2678C11.3049 4.01099 9.75932 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13C10.0902 13 11.8829 11.6736 12.6177 9.80036L13.5545 10.1996C12.6555 12.4888 10.5073 14 8 14C4.68629 14 2 11.3137 2 8Z" fill="currentColor"/>
                </svg>
                Reset
            </button>
            <button class="btn btn-primary" id="applyBtn" title="Apply changes">
                <svg class="btn-icon" viewBox="0 0 16 16" fill="none">
                    <path d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z" fill="currentColor"/>
                </svg>
                Apply
            </button>
        </footer>

        <!-- Info Tooltip -->
        <div class="info-section">
            <details class="info-details">
                <summary class="info-summary">
                    <svg class="info-icon" viewBox="0 0 16 16" fill="none">
                        <path d="M8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1ZM8 2C11.3137 2 14 4.68629 14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2ZM8 5C7.44772 5 7 5.44772 7 6C7 6.55228 7.44772 7 8 7C8.55228 7 9 6.55228 9 6C9 5.44772 8.55228 5 8 5ZM7 8V12H9V8H7Z" fill="currentColor"/>
                    </svg>
                    <span>About this extension</span>
                </summary>
                <div class="info-content">
                    <p>Adjusts the width of the main chat area on claude.ai. This affects the conversation messages and input box, <strong>not</strong> the sidebar.</p>
                    <p>Changes apply immediately to all open Claude tabs.</p>
                </div>
            </details>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>
